# Production Environment Configuration
NODE_ENV=production
PORT=4000

# Database Configuration
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
POSTGRES_DB=ai_interview_prod
POSTGRES_USER=ai_interview_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_MAX_RETRIES=5
REDIS_LAZY_CONNECT=false

# Cache Configuration - Production Optimized
CACHE_DEFAULT_TTL=7200
CACHE_MAX_SIZE=100000
CACHE_ENABLE_COMPRESSION=true
CACHE_ENABLE_METRICS=true
CACHE_CLEANUP_INTERVAL=300000

# API Keys (Set via secrets management)
OPENAI_API_KEY=${OPENAI_API_KEY}
GOOGLE_CLOUD_PROJECT_ID=${GOOGLE_CLOUD_PROJECT_ID}
GOOGLE_APPLICATION_CREDENTIALS=/app/secrets/google-service-account.json
GOOGLE_STT_API_KEY=${GOOGLE_STT_API_KEY}
WHISPER_API_KEY=${WHISPER_API_KEY}
CLAUDE_API_KEY=${CLAUDE_API_KEY}

# Authentication
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=7d

# External Integrations
LINKEDIN_CLIENT_ID=${LINKEDIN_CLIENT_ID}
LINKEDIN_CLIENT_SECRET=${LINKEDIN_CLIENT_SECRET}
LINKEDIN_REDIRECT_URI=https://api.yourdomain.com/api/integrations/linkedin/callback

GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}
GOOGLE_REDIRECT_URI=https://api.yourdomain.com/api/integrations/calendar/google/callback

OUTLOOK_CLIENT_ID=${OUTLOOK_CLIENT_ID}
OUTLOOK_CLIENT_SECRET=${OUTLOOK_CLIENT_SECRET}
OUTLOOK_REDIRECT_URI=https://api.yourdomain.com/api/integrations/calendar/outlook/callback

ZOOM_CLIENT_ID=${ZOOM_CLIENT_ID}
ZOOM_CLIENT_SECRET=${ZOOM_CLIENT_SECRET}
ZOOM_REDIRECT_URI=https://api.yourdomain.com/api/integrations/video-conferencing/zoom/callback

TEAMS_CLIENT_ID=${TEAMS_CLIENT_ID}
TEAMS_CLIENT_SECRET=${TEAMS_CLIENT_SECRET}
TEAMS_REDIRECT_URI=https://api.yourdomain.com/api/integrations/video-conferencing/teams/callback

# Application URLs
FRONTEND_URL=https://yourdomain.com
BACKEND_URL=https://api.yourdomain.com

# Performance Monitoring - Production Settings
PERFORMANCE_MONITORING_ENABLED=true
METRICS_RETENTION_HOURS=168
CACHE_HIT_RATE_THRESHOLD=85
CACHE_LATENCY_THRESHOLD=50
MEMORY_USAGE_THRESHOLD=1024
ERROR_RATE_THRESHOLD=2

# Rate Limiting - Production Settings
RATE_LIMITING_ENABLED=true
RATE_LIMIT_API_WINDOW=60000
RATE_LIMIT_API_MAX=200
RATE_LIMIT_AUTH_WINDOW=300000
RATE_LIMIT_AUTH_MAX=3
RATE_LIMIT_TRANSCRIPTION_WINDOW=60000
RATE_LIMIT_TRANSCRIPTION_MAX=50
RATE_LIMIT_RESPONSE_WINDOW=60000
RATE_LIMIT_RESPONSE_MAX=60
RATE_LIMIT_USER_WINDOW=60000
RATE_LIMIT_USER_MAX=500

# Precomputation - Production Settings
PRECOMPUTATION_ENABLED=true
PRECOMPUTE_RESPONSES_SCHEDULE="0 2 * * *"
PRECOMPUTE_CONTEXT_SCHEDULE="0 3 * * *"
PRECOMPUTE_TRANSCRIPTION_SCHEDULE="0 4 * * 0"

# Database Optimization - Production Settings
DB_CONNECTION_LIMIT=50
DB_POOL_TIMEOUT=30000
DB_IDLE_TIMEOUT=300000
DB_WORK_MEM=8MB
DB_RANDOM_PAGE_COST=1.1
DB_MAX_PARALLEL_WORKERS=4
DB_CHECKPOINT_COMPLETION_TARGET=0.9
DB_EFFECTIVE_CACHE_SIZE=4GB

# Cache Warming - Production Settings
CACHE_WARMING_ENABLED=true
CACHE_WARMING_BATCH_SIZE=200
CACHE_WARMING_CONCURRENCY=10

# File Upload - Production Settings
MAX_FILE_SIZE=52428800
UPLOAD_DEST=/app/uploads

# Monitoring and Logging - Production Settings
LOG_LEVEL=warn
ENABLE_METRICS=true
SENTRY_DSN=${SENTRY_DSN}

# Security and Privacy - Production Settings
ENCRYPTION_MASTER_KEY=${ENCRYPTION_MASTER_KEY}
DATA_EXPORT_DIR=/app/data-exports
AUDIT_LOG_RETENTION_DAYS=2555
FRAUD_DETECTION_ENABLED=true
AUTO_CLEANUP_ENABLED=true

# Privacy Policy Version
PRIVACY_POLICY_VERSION=1.0.0
TERMS_OF_SERVICE_VERSION=1.0.0

# Data Retention - Production Settings
DEFAULT_AUDIO_RETENTION_DAYS=90
DEFAULT_TRANSCRIPTION_RETENTION_DAYS=365
DEFAULT_SESSION_RETENTION_DAYS=1095
DEFAULT_ANALYTICS_RETENTION_DAYS=2190

# Fraud Detection Thresholds
FRAUD_RISK_LOW_THRESHOLD=25
FRAUD_RISK_MEDIUM_THRESHOLD=50
FRAUD_RISK_HIGH_THRESHOLD=75
FRAUD_RISK_CRITICAL_THRESHOLD=90

# Usage Limits - Production Tiers
FREE_TIER_SESSIONS_PER_DAY=3
FREE_TIER_AUDIO_MINUTES_PER_DAY=30
FREE_TIER_API_CALLS_PER_HOUR=50

PRO_TIER_SESSIONS_PER_DAY=100
PRO_TIER_AUDIO_MINUTES_PER_DAY=1200
PRO_TIER_API_CALLS_PER_HOUR=2000

ENTERPRISE_TIER_SESSIONS_PER_DAY=1000
ENTERPRISE_TIER_AUDIO_MINUTES_PER_DAY=12000
ENTERPRISE_TIER_API_CALLS_PER_HOUR=20000

# GDPR Compliance
GDPR_EXPORT_EXPIRY_DAYS=30
GDPR_DELETION_GRACE_PERIOD_DAYS=7
GDPR_DATA_PROCESSOR_EMAIL=privacy@yourdomain.com
GDPR_DATA_PROCESSOR_ADDRESS="Data Protection Officer, Your Company Address"

# Consent Management
CONSENT_COOKIE_DURATION_DAYS=365
CONSENT_BANNER_ENABLED=true
CONSENT_STRICT_MODE=true

# Data Export Configuration
EXPORT_DIRECTORY=/app/exports
EXPORT_MAX_FILE_SIZE=500MB
EXPORT_RETENTION_HOURS=24
EXPORT_CLEANUP_SCHEDULE="0 */6 * * *"

# Webhook Configuration
WEBHOOK_MAX_RETRIES=5
WEBHOOK_RETRY_DELAYS="2000,10000,30000,60000,120000"
WEBHOOK_TIMEOUT=30000
WEBHOOK_MAX_FAILURES=5
WEBHOOK_CLEANUP_SCHEDULE="0 1 * * *"

# Stripe Configuration
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}
STRIPE_PRO_MONTHLY_PRICE_ID=${STRIPE_PRO_MONTHLY_PRICE_ID}
STRIPE_PRO_YEARLY_PRICE_ID=${STRIPE_PRO_YEARLY_PRICE_ID}
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID=${STRIPE_ENTERPRISE_MONTHLY_PRICE_ID}
STRIPE_ENTERPRISE_YEARLY_PRICE_ID=${STRIPE_ENTERPRISE_YEARLY_PRICE_ID}

# AWS Configuration
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_S3_BUCKET=${AWS_S3_BUCKET}
AWS_REGION=${AWS_REGION}

# Email Service
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}

# Backup Configuration
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_ENCRYPTION_KEY=${BACKUP_ENCRYPTION_KEY}

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# CORS Configuration
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Accept,Authorization,X-Requested-With

# SSL/TLS Configuration
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem
SSL_CA_PATH=/app/ssl/ca.pem